;/*FB_PKG_DELIM*/

__d("LSGetFirstAvailableAdminMessageCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(27).fetchDesc([[[]],"ctaId"]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure";e.exports=a}),null);
__d("LSApplyAdminMessageCTA",["LSArrayGetObjectAt","LSDeserializeFromJsonIntoDictionaryV2.nop","LSGetFirstAvailableAdminMessageCTAID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetFirstAvailableAdminMessageCTAID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(27).put({threadKey:a[0],messageId:a[2],ctaId:d[0],timestampMs:a[1],adClientToken:a[5],adPreferenceUrl:a[6],adHelpUrl:a[7],showAdChoiceIcon:a[8],title:a[3],actionUrl:a[9],adminMessageNicknameParticipantId:a[10],targetId:a[11],targetTitle:a[12]})},function(e){return c.filter(c.db.table(12).fetch([[[a[2]]],"messageId"]),function(b){return a[2]===b.messageId&&c.i64.eq(a[0],b.threadKey)}).next().then(function(a,e){var f=a.done;a=a.value;return f?d[1]=void 0:(e=a.item,c.sequence([function(a){return d[7]=e.metadataDataclass,d[7]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[7]).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[9]=new c.Map(),d[64]="sticker",d[10]=d[8].get(d[64]),d[8],d[10]?d[11]=!1:d[11]=!0,d[11]?0:(d[10]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[98]="sticker_pack_id",d[94]=d[10].get(d[98]),d[10],d[94]!==void 0?d[93].set(d[98],d[94]):0,d[99]="sticker_id",d[95]=d[10].get(d[99]),d[10],d[95]!==void 0?d[93].set(d[99],d[95]):0,d[100]="avatar_style",d[96]=d[10].get(d[100]),d[10],d[96]!==void 0?d[93].set(d[100],d[96]):0,d[101]="avatar_revision_id",d[97]=d[10].get(d[101]),d[10],d[97]!==void 0?(d[97]!==void 0?d[102]=c.i64.from_string(d[97]):d[102]=void 0,d[93].set(d[101],d[102])):0,d[92]=d[93]),d[9].set(d[64],d[92])),d[65]="word_effects",d[12]=d[8].get(d[65]),d[8],d[12]?d[13]=!1:d[13]=!0,d[13]?c.resolve():c.sequence([function(a){return d[12]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[100]="magic_word_offsets",d[94]=d[12].get(d[100]),d[12],d[94]?d[95]=!1:d[95]=!0,d[95]?c.resolve():c.sequence([function(a){return d[103]=c.createArray(),d[104]=c.i64.of_int32(d[94].length),c.i64.gt(d[104],c.i64.cast([0,0]))?c.loopAsync(d[104],function(a){return d[105]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[94],d[105]).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return d[108]=(d[103].push(d[106]),d[103])}])}):c.resolve()},function(a){return d[93].set(d[100],d[103])}])},function(a){return d[101]="magic_word_lengths",d[96]=d[12].get(d[101]),d[12],d[96]?d[97]=!1:d[97]=!0,d[97]?c.resolve():c.sequence([function(a){return d[103]=c.createArray(),d[104]=c.i64.of_int32(d[96].length),c.i64.gt(d[104],c.i64.cast([0,0]))?c.loopAsync(d[104],function(a){return d[105]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[96],d[105]).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return d[108]=(d[103].push(d[106]),d[103])}])}):c.resolve()},function(a){return d[93].set(d[101],d[103])}])},function(a){return d[102]="magic_word_emojis",d[98]=d[12].get(d[102]),d[12],d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[98]?d[103]=!1:d[103]=!0,d[103]?c.resolve(d[104]=void 0):c.sequence([function(a){return d[105]=c.createArray(),d[106]=c.i64.of_int32(d[98].length),c.i64.gt(d[106],c.i64.cast([0,0]))?c.loopAsync(d[106],function(a){return d[107]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[98],d[107]).then(function(a){return a=a,d[108]=a[0],d[109]=a[1],a})},function(a){return d[110]=(d[105].push(d[108]),d[105])}])}):c.resolve()},function(a){return d[104]=d[105]}])},function(a){return d[93].set(d[102],d[104])}])},function(a){return d[92]=d[93]}])},function(a){return d[9].set(d[65],d[92])}])},function(a){return d[66]="ig_avatar_sticker",d[14]=d[8].get(d[66]),d[8],d[14]?d[15]=!1:d[15]=!0,d[15]?0:(d[14]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="is_avatar_sticker",d[94]=d[14].get(d[95]),d[14],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[66],d[92])),d[67]="power_up",d[16]=d[8].get(d[67]),d[8],d[16]?d[17]=!1:d[17]=!0,d[17]?0:(d[16]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="power_up_style",d[94]=d[16].get(d[95]),d[16],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[67],d[92])),d[68]="ai_bot",d[18]=d[8].get(d[68]),d[8],d[18]?d[19]=!1:d[19]=!0,d[19]?c.resolve():c.sequence([function(a){return d[18]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[118]="response_id",d[94]=d[18].get(d[118]),d[18],d[94]!==void 0?d[93].set(d[118],d[94]):0,d[119]="bot_action",d[95]=d[18].get(d[119]),d[18],d[95]!==void 0?d[93].set(d[119],d[95]):0,d[120]="sentiment",d[96]=d[18].get(d[120]),d[18],d[96]!==void 0?d[93].set(d[120],d[96]):0,d[121]="sentiment_intensity",d[97]=d[18].get(d[121]),d[18],d[97]!==void 0?d[93].set(d[121],d[97]):0,d[122]="imagine_media_id",d[98]=d[18].get(d[122]),d[18],d[98]!==void 0?(d[98]!==void 0?d[139]=c.i64.from_string(d[98]):d[139]=void 0,d[93].set(d[122],d[139])):0,d[123]="bot_action_int",d[99]=d[18].get(d[123]),d[18],c.i64.neq(d[99],void 0)?d[93].set(d[123],d[99]):0,d[124]="sentiment_int",d[100]=d[18].get(d[124]),d[18],c.i64.neq(d[100],void 0)?d[93].set(d[124],d[100]):0,d[125]="sentiment_intensity_int",d[101]=d[18].get(d[125]),d[18],c.i64.neq(d[101],void 0)?d[93].set(d[125],d[101]):0,d[126]="bot_invocation_message_id",d[102]=d[18].get(d[126]),d[18],d[102]!==void 0?d[93].set(d[126],d[102]):0,d[127]="bot_response_id",d[103]=d[18].get(d[127]),d[18],d[103]!==void 0?d[93].set(d[127],d[103]):0,d[128]="bot_invocation_message_otid",d[104]=d[18].get(d[128]),d[18],d[104]!==void 0?d[93].set(d[128],d[104]):0,d[129]="bot_invocation_logging_id",d[105]=d[18].get(d[129]),d[18],d[105]!==void 0?d[93].set(d[129],d[105]):0,d[130]="is_error",d[106]=d[18].get(d[130]),d[18],d[106]!==void 0?d[93].set(d[130],d[106]):0,d[131]="bot_subscription_id",d[107]=d[18].get(d[131]),d[18],d[107]!==void 0?(d[107]!==void 0?d[139]=c.i64.from_string(d[107]):d[139]=void 0,d[93].set(d[131],d[139])):0,d[132]="bot_subscription_product_type",d[108]=d[18].get(d[132]),d[18],d[108]!==void 0?d[93].set(d[132],d[108]):0,d[133]="bot_response_product_type",d[109]=d[18].get(d[133]),d[18],d[109]!==void 0?d[93].set(d[133],d[109]):0,d[134]="original_prompt_text",d[110]=d[18].get(d[134]),d[18],d[110]!==void 0?d[93].set(d[134],d[110]):0,d[135]="bot_response_additional_message_otids",d[111]=d[18].get(d[135]),d[18],d[111]?d[112]=!1:d[112]=!0,d[112]?c.resolve():c.sequence([function(a){return d[111]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[141]=c.createArray(),d[142]=c.i64.of_int32(d[111].length),c.i64.gt(d[142],c.i64.cast([0,0]))?c.loopAsync(d[142],function(a){return d[143]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[111],d[143]).then(function(a){return a=a,d[144]=a[0],d[145]=a[1],a})},function(a){return d[146]=(d[141].push(d[144]),d[141])}])}):c.resolve()},function(a){return d[140]=d[141]}])},function(a){return d[93].set(d[135],d[140])}])},function(a){return d[136]="imagine_media_info",d[113]=d[18].get(d[136]),d[18],d[113]?d[114]=!1:d[114]=!0,d[114]?c.resolve():c.sequence([function(a){return d[113]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[141]=c.createArray(),d[142]=c.i64.of_int32(d[113].length),c.i64.gt(d[142],c.i64.cast([0,0]))?c.loopAsync(d[142],function(a){return d[143]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[113],d[143]).then(function(a){return a=a,d[144]=a[0],d[145]=a[1],a})},function(a){return d[146]=new c.Map(),d[150]="imagine_media_id",d[147]=d[144].get(d[150]),d[144],d[147]!==void 0?(d[147]!==void 0?d[153]=c.i64.from_string(d[147]):d[153]=void 0,d[146].set(d[150],d[153])):0,d[151]="editable",d[148]=d[144].get(d[151]),d[144],d[148]!==void 0?d[146].set(d[151],d[148]):0,d[152]="animatable",d[149]=d[144].get(d[152]),d[144],d[149]!==void 0?d[146].set(d[152],d[149]):0,d[153]=(d[141].push(d[146]),d[141])}])}):c.resolve()},function(a){return d[140]=d[141]}])},function(a){return d[93].set(d[136],d[140])}])},function(a){return d[137]="groups_ugc_metadata",d[115]=d[18].get(d[137]),d[18],d[115]?d[116]=!1:d[116]=!0,d[116]?0:(d[115]?d[139]=!1:d[139]=!0,d[139]?d[140]=void 0:(d[141]=new c.Map(),d[143]="share_to_comment_uri",d[142]=d[115].get(d[143]),d[115],d[142]!==void 0?d[141].set(d[143],d[142]):0,d[140]=d[141]),d[93].set(d[137],d[140])),d[138]="bot_proactive_message_type",d[117]=d[18].get(d[138]),d[18],c.i64.neq(d[117],void 0)?d[93].set(d[138],d[117]):0,d[92]=d[93]}])},function(a){return d[9].set(d[68],d[92])}])},function(a){return d[69]="pobox",d[20]=d[8].get(d[69]),d[8],d[20]?d[21]=!1:d[21]=!0,d[21]?0:(d[20]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[96]="pobox_fbid",d[94]=d[20].get(d[96]),d[20],d[94]!==void 0?(d[94]!==void 0?d[98]=c.i64.from_string(d[94]):d[98]=void 0,d[93].set(d[96],d[98])):0,d[97]="pobox_id",d[95]=d[20].get(d[97]),d[20],d[95]!==void 0?d[93].set(d[97],d[95]):0,d[92]=d[93]),d[9].set(d[69],d[92])),d[70]="video",d[22]=d[8].get(d[70]),d[8],d[22]?d[23]=!1:d[23]=!0,d[23]?0:(d[22]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="unified_upload_mos",d[94]=d[22].get(d[95]),d[22],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[70],d[92])),d[71]="text_translation",d[24]=d[8].get(d[71]),d[8],d[24]?d[25]=!1:d[25]=!0,d[25]?0:(d[24]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[97]="translated_text",d[94]=d[24].get(d[97]),d[24],d[94]!==void 0?d[93].set(d[97],d[94]):0,d[98]="text_dialect",d[95]=d[24].get(d[98]),d[24],d[95]!==void 0?d[93].set(d[98],d[95]):0,d[99]="translated_text_dialect",d[96]=d[24].get(d[99]),d[24],d[96]!==void 0?d[93].set(d[99],d[96]):0,d[92]=d[93]),d[9].set(d[71],d[92])),d[72]="memories",d[26]=d[8].get(d[72]),d[8],d[26]?d[27]=!1:d[27]=!0,d[27]?c.resolve():c.sequence([function(a){return d[26]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[100]="original_message_id",d[94]=d[26].get(d[100]),d[26],d[94]!==void 0?d[93].set(d[100],d[94]):0,d[101]="original_message_creation_ts",d[95]=d[26].get(d[101]),d[26],d[95]!==void 0?(d[95]!==void 0?d[105]=c.i64.from_string(d[95]):d[105]=void 0,d[93].set(d[101],d[105])):0,d[102]="memory_server_id",d[96]=d[26].get(d[102]),d[26],d[96]!==void 0?(d[96]!==void 0?d[105]=c.i64.from_string(d[96]):d[105]=void 0,d[93].set(d[102],d[105])):0,d[103]="memory_template_type",d[97]=d[26].get(d[103]),d[26],d[97]!==void 0?d[93].set(d[103],d[97]):0,d[104]="memory_context_messages",d[98]=d[26].get(d[104]),d[26],d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[98]?d[105]=!1:d[105]=!0,d[105]?c.resolve(d[106]=void 0):c.sequence([function(a){return d[107]=c.createArray(),d[108]=c.i64.of_int32(d[98].length),c.i64.gt(d[108],c.i64.cast([0,0]))?c.loopAsync(d[108],function(a){return d[109]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[98],d[109]).then(function(a){return a=a,d[110]=a[0],d[111]=a[1],a})},function(a){return d[112]=new c.Map(),d[117]="sender_id",d[113]=d[110].get(d[117]),d[110],d[113]!==void 0?(d[113]!==void 0?d[120]=c.i64.from_string(d[113]):d[120]=void 0,d[112].set(d[117],d[120])):0,d[118]="message_text",d[114]=d[110].get(d[118]),d[110],d[114]!==void 0?d[112].set(d[118],d[114]):0,d[119]="reactions",d[115]=d[110].get(d[119]),d[110],d[115]?d[116]=!1:d[116]=!0,d[116]?c.resolve():c.sequence([function(a){return d[115]?d[120]=!1:d[120]=!0,d[120]?c.resolve(d[121]=void 0):c.sequence([function(a){return d[122]=c.createArray(),d[123]=c.i64.of_int32(d[115].length),c.i64.gt(d[123],c.i64.cast([0,0]))?c.loopAsync(d[123],function(a){return d[124]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[115],d[124]).then(function(a){return a=a,d[125]=a[0],d[126]=a[1],a})},function(a){return d[127]=(d[122].push(d[125]),d[122])}])}):c.resolve()},function(a){return d[121]=d[122]}])},function(a){return d[112].set(d[119],d[121])}])},function(a){return d[120]=(d[107].push(d[112]),d[107])}])}):c.resolve()},function(a){return d[106]=d[107]}])},function(a){return d[93].set(d[104],d[106])}])},function(a){return d[92]=d[93]}])},function(a){return d[9].set(d[72],d[92])}])},function(a){return d[73]="command",d[28]=d[8].get(d[73]),d[8],d[28]?d[29]=!1:d[29]=!0,d[29]?0:(d[28]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="command_type",d[94]=d[28].get(d[95]),d[28],c.i64.neq(d[94],void 0)?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[73],d[92])),d[74]="admin_message",d[30]=d[8].get(d[74]),d[8],d[30]?d[31]=!1:d[31]=!0,d[31]?0:(d[30]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[104]="ad_client_token",d[94]=d[30].get(d[104]),d[30],d[94]!==void 0?d[93].set(d[104],d[94]):0,d[105]="ad_preference_url",d[95]=d[30].get(d[105]),d[30],d[95]!==void 0?d[93].set(d[105],d[95]):0,d[106]="ad_help_url",d[96]=d[30].get(d[106]),d[30],d[96]!==void 0?d[93].set(d[106],d[96]):0,d[107]="show_ad_choice_icon",d[97]=d[30].get(d[107]),d[30],d[97]!==void 0?d[93].set(d[107],d[97]):0,d[108]="title",d[98]=d[30].get(d[108]),d[30],d[98]!==void 0?d[93].set(d[108],d[98]):0,d[109]="action_url",d[99]=d[30].get(d[109]),d[30],d[99]!==void 0?d[93].set(d[109],d[99]):0,d[110]="admin_message_nickname_participant_id",d[100]=d[30].get(d[110]),d[30],d[100]!==void 0?(d[100]!==void 0?d[114]=c.i64.from_string(d[100]):d[114]=void 0,d[93].set(d[110],d[114])):0,d[111]="target_id",d[101]=d[30].get(d[111]),d[30],d[101]!==void 0?(d[101]!==void 0?d[114]=c.i64.from_string(d[101]):d[114]=void 0,d[93].set(d[111],d[114])):0,d[112]="target_title",d[102]=d[30].get(d[112]),d[30],d[102]!==void 0?d[93].set(d[112],d[102]):0,d[113]="identifier_name",d[103]=d[30].get(d[113]),d[30],d[103]!==void 0?d[93].set(d[113],d[103]):0,d[92]=d[93]),d[9].set(d[74],d[92])),d[75]="misinfo_metadata",d[32]=d[8].get(d[75]),d[8],d[32]?d[33]=!1:d[33]=!0,d[33]?0:(d[32]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[96]="has_misinfo",d[94]=d[32].get(d[96]),d[32],d[94]!==void 0?d[93].set(d[96],d[94]):0,d[97]="misinfo_source",d[95]=d[32].get(d[97]),d[32],d[95]!==void 0?d[93].set(d[97],d[95]):0,d[92]=d[93]),d[9].set(d[75],d[92])),d[76]="forwarded_message",d[34]=d[8].get(d[76]),d[8],d[34]?d[35]=!1:d[35]=!0,d[35]?0:(d[34]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[96]="forwarded_from_thread_name",d[94]=d[34].get(d[96]),d[34],d[94]!==void 0?d[93].set(d[96],d[94]):0,d[97]="forwarded_from_thread_url",d[95]=d[34].get(d[97]),d[34],d[95]!==void 0?d[93].set(d[97],d[95]):0,d[92]=d[93]),d[9].set(d[76],d[92])),d[77]="ai_metadata",d[36]=d[8].get(d[77]),d[8],d[36]?d[37]=!1:d[37]=!0,d[37]?0:(d[36]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[99]="is_ai_generated",d[94]=d[36].get(d[99]),d[36],d[94]!==void 0?d[93].set(d[99],d[94]):0,d[100]="gen_ai_integrity_ent_id",d[95]=d[36].get(d[100]),d[36],d[95]!==void 0?(d[95]!==void 0?d[104]=c.i64.from_string(d[95]):d[104]=void 0,d[93].set(d[100],d[104])):0,d[101]="ai_product",d[96]=d[36].get(d[101]),d[36],d[96]!==void 0?d[93].set(d[101],d[96]):0,d[102]="original_prompt_text",d[97]=d[36].get(d[102]),d[36],d[97]!==void 0?d[93].set(d[102],d[97]):0,d[103]="imagine_media_id",d[98]=d[36].get(d[103]),d[36],d[98]!==void 0?(d[98]!==void 0?d[104]=c.i64.from_string(d[98]):d[104]=void 0,d[93].set(d[103],d[104])):0,d[92]=d[93]),d[9].set(d[77],d[92])),d[78]="encrypted_message",d[38]=d[8].get(d[78]),d[8],d[38]?d[39]=!1:d[39]=!0,d[39]?c.resolve():c.sequence([function(a){return d[38]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[101]="thread_id",d[94]=d[38].get(d[101]),d[38],d[94]!==void 0?d[93].set(d[101],d[94]):0,d[102]="offline_threading_id",d[95]=d[38].get(d[102]),d[38],d[95]!==void 0?d[93].set(d[102],d[95]):0,d[103]="toplevel_payload",d[96]=d[38].get(d[103]),d[38],d[96]?d[97]=!1:d[97]=!0,d[97]?0:(d[106]=new c.Map(),d[112]="encrypted_payload",d[107]=d[96].get(d[112]),d[96],d[107]!==void 0?d[106].set(d[112],d[107]):0,d[113]="payloadTimestampMs",d[108]=d[96].get(d[113]),d[96],d[108]!==void 0?d[106].set(d[113],c.i64.from_string(d[108])):0,d[114]="encryption_version",d[109]=d[96].get(d[114]),d[96],c.i64.neq(d[109],void 0)?d[106].set(d[114],d[109]):0,d[115]="epoch_id",d[110]=d[96].get(d[115]),d[96],d[110]!==void 0?d[106].set(d[115],c.i64.from_string(d[110])):0,d[116]="epoch_anon_id",d[111]=d[96].get(d[116]),d[96],d[111]!==void 0?d[106].set(d[116],d[111]):0,d[93].set(d[103],d[106])),d[104]="supplemental_payloads",d[98]=d[38].get(d[104]),d[38],d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[106]=c.createArray(),d[107]=c.i64.of_int32(d[98].length),c.i64.gt(d[107],c.i64.cast([0,0]))?c.loopAsync(d[107],function(a){return d[108]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[98],d[108]).then(function(a){return a=a,d[109]=a[0],d[110]=a[1],a})},function(a){return d[111]=new c.Map(),d[116]="encrypted_supplemental_key",d[112]=d[109].get(d[116]),d[109],d[112]!==void 0?d[111].set(d[116],d[112]):0,d[117]="supplemental_key_ciphertext",d[113]=d[109].get(d[117]),d[109],d[113]!==void 0?d[111].set(d[117],d[113]):0,d[118]="encrypted_supplemental_payload",d[114]=d[109].get(d[118]),d[109],d[114]?d[115]=!1:d[115]=!0,d[115]?0:(d[119]=new c.Map(),d[125]="encrypted_payload",d[120]=d[114].get(d[125]),d[114],d[120]!==void 0?d[119].set(d[125],d[120]):0,d[126]="payloadTimestampMs",d[121]=d[114].get(d[126]),d[114],d[121]!==void 0?d[119].set(d[126],c.i64.from_string(d[121])):0,d[127]="encryption_version",d[122]=d[114].get(d[127]),d[114],c.i64.neq(d[122],void 0)?d[119].set(d[127],d[122]):0,d[128]="epoch_id",d[123]=d[114].get(d[128]),d[114],d[123]!==void 0?d[119].set(d[128],c.i64.from_string(d[123])):0,d[129]="epoch_anon_id",d[124]=d[114].get(d[129]),d[114],d[124]!==void 0?d[119].set(d[129],d[124]):0,d[111].set(d[118],d[119])),d[119]=(d[106].push(d[111]),d[106])}])}):c.resolve()},function(a){return d[93].set(d[104],d[106])}])},function(a){return d[105]="is_open_eb",d[100]=d[38].get(d[105]),d[38],d[100]!==void 0?d[93].set(d[105],d[100]):0,d[92]=d[93]}])},function(a){return d[9].set(d[78],d[92])}])},function(a){return d[79]="rich_text",d[40]=d[8].get(d[79]),d[8],d[40]?d[41]=!1:d[41]=!0,d[41]?0:(d[40]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="rich_text_format_type",d[94]=d[40].get(d[95]),d[40],c.i64.neq(d[94],void 0)?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[79],d[92])),d[80]="content_logging_metadata",d[42]=d[8].get(d[80]),d[8],d[42]?d[43]=!1:d[43]=!0,d[43]?c.resolve():c.sequence([function(a){return d[42]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[98]="containing_post",d[94]=d[42].get(d[98]),d[42],d[94]?d[95]=!1:d[95]=!0,d[95]?c.resolve():c.sequence([function(a){return d[94]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=new c.Map(),d[110]="key_type",d[103]=d[94].get(d[110]),d[94],d[103]!==void 0?d[102].set(d[110],d[103]):0,d[111]="fb_post_type",d[104]=d[94].get(d[111]),d[94],d[104]?d[105]=!1:d[105]=!0,d[105]?c.resolve():c.sequence([function(a){return d[104]?d[114]=!1:d[114]=!0,d[114]?c.resolve(d[115]=void 0):c.sequence([function(a){return d[116]=c.createArray(),d[117]=c.i64.of_int32(d[104].length),c.i64.gt(d[117],c.i64.cast([0,0]))?c.loopAsync(d[117],function(a){return d[118]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[104],d[118]).then(function(a){return a=a,d[119]=a[0],d[120]=a[1],a})},function(a){return d[121]=(d[116].push(d[119]),d[116])}])}):c.resolve()},function(a){return d[115]=d[116]}])},function(a){return d[102].set(d[111],d[115])}])},function(a){return d[112]="photos",d[106]=d[94].get(d[112]),d[94],d[106]?d[107]=!1:d[107]=!0,d[107]?c.resolve():c.sequence([function(a){return d[106]?d[114]=!1:d[114]=!0,d[114]?c.resolve(d[115]=void 0):c.sequence([function(a){return d[116]=c.createArray(),d[117]=c.i64.of_int32(d[106].length),c.i64.gt(d[117],c.i64.cast([0,0]))?c.loopAsync(d[117],function(a){return d[118]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[106],d[118]).then(function(a){return a=a,d[119]=a[0],d[120]=a[1],a})},function(a){return d[121]=new c.Map(),d[123]="key_type",d[122]=d[119].get(d[123]),d[119],d[122]!==void 0?d[121].set(d[123],d[122]):0,d[124]=(d[116].push(d[121]),d[116])}])}):c.resolve()},function(a){return d[115]=d[116]}])},function(a){return d[102].set(d[112],d[115])}])},function(a){return d[113]="videos",d[108]=d[94].get(d[113]),d[94],d[108]?d[109]=!1:d[109]=!0,d[109]?c.resolve():c.sequence([function(a){return d[108]?d[114]=!1:d[114]=!0,d[114]?c.resolve(d[115]=void 0):c.sequence([function(a){return d[116]=c.createArray(),d[117]=c.i64.of_int32(d[108].length),c.i64.gt(d[117],c.i64.cast([0,0]))?c.loopAsync(d[117],function(a){return d[118]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[108],d[118]).then(function(a){return a=a,d[119]=a[0],d[120]=a[1],a})},function(a){return d[121]=new c.Map(),d[123]="key_type",d[122]=d[119].get(d[123]),d[119],d[122]!==void 0?d[121].set(d[123],d[122]):0,d[124]=(d[116].push(d[121]),d[116])}])}):c.resolve()},function(a){return d[115]=d[116]}])},function(a){return d[102].set(d[113],d[115])}])},function(a){return d[101]=d[102]}])},function(a){return d[93].set(d[98],d[101])}])},function(a){return d[99]="metadata",d[96]=d[42].get(d[99]),d[42],d[96]?d[97]=!1:d[97]=!0,d[97]?c.resolve():c.sequence([function(a){return d[96]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=d[96].get("__typename"),d[96],d[102]==="XMSGGroupsContentLoggingMetadata"?c.resolve((d[104]=new c.Map(),d[106]="num_members",d[105]=d[96].get(d[106]),d[96],c.i64.neq(d[105],void 0)?d[104].set(d[106],d[105]):0,d[103]=d[104])):c.sequence([function(a){return d[102]==="XMSGStoriesContentLoggingMetadata"?c.resolve((d[105]=new c.Map(),d[110]="author",d[106]=d[96].get(d[110]),d[96],d[106]?d[107]=!1:d[107]=!0,d[107]?0:(d[106]?d[113]=!1:d[113]=!0,d[113]?d[114]=void 0:(d[115]=new c.Map(),d[118]="profile",d[116]=d[106].get(d[118]),d[106],d[116]?d[117]=!1:d[117]=!0,d[117]?0:(d[116]?d[119]=!1:d[119]=!0,d[119]?d[120]=void 0:(d[121]=new c.Map(),d[123]="id",d[122]=d[116].get(d[123]),d[116],d[122]!==void 0?d[121].set(d[123],d[122]):0,d[120]=d[121]),d[115].set(d[118],d[120])),d[114]=d[115]),d[105].set(d[110],d[114])),d[111]="post_source",d[108]=d[96].get(d[111]),d[96],d[108]!==void 0?d[105].set(d[111],d[108]):0,d[112]="story_type",d[109]=d[96].get(d[112]),d[96],d[109]!==void 0?d[105].set(d[112],d[109]):0,d[104]=d[105])):c.sequence([function(a){return function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGContentLoggingMetadataUnion: ","",d[102]].join("")),d[105]=new c.Map(),d[106]=d[96].keys(),d[107]=c.i64.of_int32(d[106].length),c.i64.gt(d[107],c.i64.cast([0,0]))?c.loopAsync(d[107],function(a){return d[108]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[106],d[108]).then(function(a){return a=a,d[109]=a[0],d[110]=a[1],a})},function(a){return d[111]=d[96].get(d[109]),d[96],d[105].set(d[109],d[111])}])}):c.resolve()},function(a){return d[104]=d[105]}])},function(a){return d[103]=d[104]}])},function(a){return d[103].set("__typename",d[102]),d[101]=d[103]}])},function(a){return d[93].set(d[99],d[101])}])},function(a){return d[92]=d[93]}])},function(a){return d[9].set(d[80],d[92])}])},function(a){return d[81]="suggested_moderation_actions",d[44]=d[8].get(d[81]),d[8],d[44]?d[45]=!1:d[45]=!0,d[45]?c.resolve():c.sequence([function(a){return d[44]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[97]="suggested_moderation_actions_list",d[94]=d[44].get(d[97]),d[44],d[94]?d[95]=!1:d[95]=!0,d[95]?c.resolve():c.sequence([function(a){return d[94]?d[99]=!1:d[99]=!0,d[99]?c.resolve(d[100]=void 0):c.sequence([function(a){return d[101]=new c.Map(),d[104]="suggested_moderation_actions",d[102]=d[94].get(d[104]),d[94],d[102]?d[103]=!1:d[103]=!0,d[103]?c.resolve():c.sequence([function(a){return d[102]?d[105]=!1:d[105]=!0,d[105]?c.resolve(d[106]=void 0):c.sequence([function(a){return d[107]=c.createArray(),d[108]=c.i64.of_int32(d[102].length),c.i64.gt(d[108],c.i64.cast([0,0]))?c.loopAsync(d[108],function(a){return d[109]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[102],d[109]).then(function(a){return a=a,d[110]=a[0],d[111]=a[1],a})},function(a){return d[112]=new c.Map(),d[115]="primary_action",d[113]=d[110].get(d[115]),d[110],d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="chained_actions",d[114]=d[110].get(d[116]),d[110],d[114]!==void 0?d[112].set(d[116],d[114]):0,d[117]=(d[107].push(d[112]),d[107])}])}):c.resolve()},function(a){return d[106]=d[107]}])},function(a){return d[101].set(d[104],d[106])}])},function(a){return d[100]=d[101]}])},function(a){return d[93].set(d[97],d[100])}])},function(a){return d[98]="suggested_moderation_actions_json",d[96]=d[44].get(d[98]),d[44],d[96]!==void 0?d[93].set(d[98],d[96]):0,d[92]=d[93]}])},function(a){return d[9].set(d[81],d[92])}])},function(a){return d[82]="highlights_tab_custom_card_metadata",d[46]=d[8].get(d[82]),d[8],d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[96]="is_custom_card",d[94]=d[46].get(d[96]),d[46],d[94]!==void 0?d[93].set(d[96],d[94]):0,d[97]="moment",d[95]=d[46].get(d[97]),d[46],d[95]!==void 0?d[93].set(d[97],d[95]):0,d[92]=d[93]),d[9].set(d[82],d[92])),d[83]="highlights_tab_metadata",d[48]=d[8].get(d[83]),d[8],d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[48]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[99]="reply_source_type",d[94]=d[48].get(d[99]),d[48],d[94]!==void 0?d[93].set(d[99],d[94]):0,d[100]="reply_metadata",d[95]=d[48].get(d[100]),d[48],d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve():c.sequence([function(a){return d[95]?d[102]=!1:d[102]=!0,d[102]?c.resolve(d[103]=void 0):c.sequence([function(a){return d[104]=d[95].get("__typename"),d[95],d[104]==="XMSGHighlightsTabBirthdayReplyMetadata"?c.resolve((d[106]=new c.Map(),d[108]="birthday_age",d[107]=d[95].get(d[108]),d[95],c.i64.neq(d[107],void 0)?d[106].set(d[108],d[107]):0,d[105]=d[106])):c.sequence([function(a){return function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGHighlightsTabReplyMetadataUnion: ","",d[104]].join("")),d[106]=new c.Map(),d[107]=d[95].keys(),d[108]=c.i64.of_int32(d[107].length),c.i64.gt(d[108],c.i64.cast([0,0]))?c.loopAsync(d[108],function(a){return d[109]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[107],d[109]).then(function(a){return a=a,d[110]=a[0],d[111]=a[1],a})},function(a){return d[112]=d[95].get(d[110]),d[95],d[106].set(d[110],d[112])}])}):c.resolve()},function(a){return d[105]=d[106]}])},function(a){return d[105].set("__typename",d[104]),d[103]=d[105]}])},function(a){return d[93].set(d[100],d[103])}])},function(a){return d[101]="moment_card_metadata",d[97]=d[48].get(d[101]),d[48],d[97]?d[98]=!1:d[98]=!0,d[98]?0:(d[97]?d[102]=!1:d[102]=!0,d[102]?d[103]=void 0:(d[104]=new c.Map(),d[106]="moment_card_type",d[105]=d[97].get(d[106]),d[97],d[105]!==void 0?d[104].set(d[106],d[105]):0,d[103]=d[104]),d[93].set(d[101],d[103])),d[92]=d[93]}])},function(a){return d[9].set(d[83],d[92])}])},function(a){return d[84]="business_thread_response_feedback",d[50]=d[8].get(d[84]),d[8],d[50]?d[51]=!1:d[51]=!0,d[51]?0:(d[50]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="is_feedback_button_enabled_for_message",d[94]=d[50].get(d[95]),d[50],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[84],d[92])),d[85]="live_shopping_metadata",d[52]=d[8].get(d[85]),d[8],d[52]?d[53]=!1:d[53]=!0,d[53]?0:(d[52]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="referral_post_id",d[94]=d[52].get(d[95]),d[52],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[85],d[92])),d[86]="reply_metadata",d[54]=d[8].get(d[86]),d[8],d[54]?d[55]=!1:d[55]=!0,d[55]?0:(d[54]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="is_markdown",d[94]=d[54].get(d[95]),d[54],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[86],d[92])),d[87]="mustache_cta",d[56]=d[8].get(d[87]),d[8],d[56]?d[57]=!1:d[57]=!0,d[57]?0:(d[56]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[97]="cta_type",d[94]=d[56].get(d[97]),d[56],d[94]!==void 0?d[93].set(d[97],d[94]):0,d[98]="title",d[95]=d[56].get(d[98]),d[56],d[95]!==void 0?d[93].set(d[98],d[95]):0,d[99]="action_url",d[96]=d[56].get(d[99]),d[56],d[96]!==void 0?d[93].set(d[99],d[96]):0,d[92]=d[93]),d[9].set(d[87],d[92])),d[88]="inline_entities",d[58]=d[8].get(d[88]),d[8],d[58]?d[59]=!1:d[59]=!0,d[59]?c.resolve():c.sequence([function(a){return d[58]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[98]="entities",d[94]=d[58].get(d[98]),d[58],d[94]?d[95]=!1:d[95]=!0,d[95]?c.resolve():c.sequence([function(a){return d[101]=c.createArray(),d[102]=c.i64.of_int32(d[94].length),c.i64.gt(d[102],c.i64.cast([0,0]))?c.loopAsync(d[102],function(a){return d[103]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[94],d[103]).then(function(a){return a=a,d[104]=a[0],d[105]=a[1],a})},function(a){return d[106]=new c.Map(),d[115]="offset",d[107]=d[104].get(d[115]),d[104],c.i64.neq(d[107],void 0)?d[106].set(d[115],d[107]):0,d[116]="length",d[108]=d[104].get(d[116]),d[104],c.i64.neq(d[108],void 0)?d[106].set(d[116],d[108]):0,d[117]="type",d[109]=d[104].get(d[117]),d[104],d[109]!==void 0?d[106].set(d[117],d[109]):0,d[118]="metadata",d[110]=d[104].get(d[118]),d[104],d[110]?d[111]=!1:d[111]=!0,d[111]?0:(d[110]?d[122]=!1:d[122]=!0,d[122]?d[123]=void 0:(d[124]=new c.Map(),d[127]="search_query",d[125]=d[110].get(d[127]),d[110],d[125]!==void 0?d[124].set(d[127],d[125]):0,d[128]="reminder_topic",d[126]=d[110].get(d[128]),d[110],d[126]!==void 0?d[124].set(d[128],d[126]):0,d[123]=d[124]),d[106].set(d[118],d[123])),d[119]="action_label",d[112]=d[104].get(d[119]),d[104],d[112]!==void 0?d[106].set(d[119],d[112]):0,d[120]="context_token",d[113]=d[104].get(d[120]),d[104],d[113]!==void 0?d[106].set(d[120],d[113]):0,d[121]="context_token_type",d[114]=d[104].get(d[121]),d[104],c.i64.neq(d[114],void 0)?d[106].set(d[121],d[114]):0,d[122]=(d[101].push(d[106]),d[101])}])}):c.resolve()},function(a){return d[93].set(d[98],d[101])}])},function(a){return d[99]="inference_timestamp_ms",d[96]=d[58].get(d[99]),d[58],d[96]!==void 0?(d[96]!==void 0?d[101]=c.i64.from_string(d[96]):d[101]=void 0,d[93].set(d[99],d[101])):0,d[100]="inference_model_version",d[97]=d[58].get(d[100]),d[58],c.i64.neq(d[97],void 0)?d[93].set(d[100],d[97]):0,d[92]=d[93]}])},function(a){return d[9].set(d[88],d[92])}])},function(a){return d[89]="note_metadata",d[60]=d[8].get(d[89]),d[8],d[60]?d[61]=!1:d[61]=!0,d[61]?c.resolve():c.sequence([function(a){return d[60]?d[91]=!1:d[91]=!0,d[91]?c.resolve(d[92]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[98]="message_type",d[94]=d[60].get(d[98]),d[60],d[94]!==void 0?d[93].set(d[98],d[94]):0,d[99]="mentions",d[95]=d[60].get(d[99]),d[60],d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve():c.sequence([function(a){return d[101]=c.createArray(),d[102]=c.i64.of_int32(d[95].length),c.i64.gt(d[102],c.i64.cast([0,0]))?c.loopAsync(d[102],function(a){return d[103]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[95],d[103]).then(function(a){return a=a,d[104]=a[0],d[105]=a[1],a})},function(a){return d[106]=new c.Map(),d[109]="offset",d[107]=d[104].get(d[109]),d[104],c.i64.neq(d[107],void 0)?d[106].set(d[109],d[107]):0,d[110]="length",d[108]=d[104].get(d[110]),d[104],c.i64.neq(d[108],void 0)?d[106].set(d[110],d[108]):0,d[111]=(d[101].push(d[106]),d[101])}])}):c.resolve()},function(a){return d[93].set(d[99],d[101])}])},function(a){return d[100]="expiration_timestamp_ms",d[97]=d[60].get(d[100]),d[60],d[97]!==void 0?d[93].set(d[100],c.i64.from_string(d[97])):0,d[92]=d[93]}])},function(a){return d[9].set(d[89],d[92])}])},function(a){return d[90]="ai_bot_summon_metadata",d[62]=d[8].get(d[90]),d[8],d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[91]=!1:d[91]=!0,d[91]?d[92]=void 0:(d[93]=new c.Map(),d[95]="is_e2ee_summon_message",d[94]=d[62].get(d[95]),d[62],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[92]=d[93]),d[9].set(d[90],d[92])),d[6]=d[9]}]):c.resolve((d[8]=new c.Map(),d[6]=d[8]))},function(a){return d[1]=d[6]}]))})},function(e){return d[1]?d[3]=!1:d[3]=!0,d[3]?0:(d[6]=new c.Map(),d[6].set("ad_client_token",a[5]),d[6].set("ad_preference_url",a[6]),d[6].set("ad_help_url",a[7]),d[6].set("show_ad_choice_icon",a[8]),d[6].set("title",a[3]),d[6].set("action_url",a[9]),d[6].set("admin_message_nickname_participant_id",a[10]),d[6].set("target_id",a[11]),d[6].set("target_title",a[12]),d[6].set("identifier_name",void 0),d[1].set("admin_message",d[6])),d[1]?d[4]=!1:d[4]=!0,d[4]?c.resolve(d[5]=void 0):c.sequence([function(a){return d[6]=new c.Map(),d[62]="sticker",d[7]=d[1].get(d[62]),d[1],d[7]?d[8]=!1:d[8]=!0,d[8]?0:(d[7]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[98]="sticker_pack_id",d[94]=d[7].get(d[98]),d[7],d[94]!==void 0?d[93].set(d[98],d[94]):0,d[99]="sticker_id",d[95]=d[7].get(d[99]),d[7],d[95]!==void 0?d[93].set(d[99],d[95]):0,d[100]="avatar_style",d[96]=d[7].get(d[100]),d[7],d[96]!==void 0?d[93].set(d[100],d[96]):0,d[101]="avatar_revision_id",d[97]=d[7].get(d[101]),d[7],c.i64.neq(d[97],void 0)?(c.i64.neq(d[97],void 0)?d[102]=c.i64.to_string(d[97]):d[102]=void 0,d[93].set(d[101],d[102])):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[62],d[90]):0),d[63]="word_effects",d[9]=d[1].get(d[63]),d[1],d[9]?d[10]=!1:d[10]=!0,d[10]?0:(d[9]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[100]="magic_word_offsets",d[94]=d[9].get(d[100]),d[9],d[94]?d[95]=!1:d[95]=!0,d[95]?0:d[93].set(d[100],d[94]),d[101]="magic_word_lengths",d[96]=d[9].get(d[101]),d[9],d[96]?d[97]=!1:d[97]=!0,d[97]?0:d[93].set(d[101],d[96]),d[102]="magic_word_emojis",d[98]=d[9].get(d[102]),d[9],d[98]?d[99]=!1:d[99]=!0,d[99]?0:(d[103]=c.i64.of_int32(d[98].length),c.i64.neq(d[103],c.i64.cast([0,0]))?d[93].set(d[102],d[98]):0),d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[63],d[90]):0),d[64]="ig_avatar_sticker",d[11]=d[1].get(d[64]),d[1],d[11]?d[12]=!1:d[12]=!0,d[12]?0:(d[11]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="is_avatar_sticker",d[94]=d[11].get(d[95]),d[11],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[64],d[90]):0),d[65]="power_up",d[13]=d[1].get(d[65]),d[1],d[13]?d[14]=!1:d[14]=!0,d[14]?0:(d[13]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="power_up_style",d[94]=d[13].get(d[95]),d[13],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[65],d[90]):0),d[66]="ai_bot",d[15]=d[1].get(d[66]),d[1],d[15]?d[16]=!1:d[16]=!0,d[16]?c.resolve():c.sequence([function(a){return d[15]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[118]="response_id",d[94]=d[15].get(d[118]),d[15],d[94]!==void 0?d[93].set(d[118],d[94]):0,d[119]="bot_action",d[95]=d[15].get(d[119]),d[15],d[95]!==void 0?d[93].set(d[119],d[95]):0,d[120]="sentiment",d[96]=d[15].get(d[120]),d[15],d[96]!==void 0?d[93].set(d[120],d[96]):0,d[121]="sentiment_intensity",d[97]=d[15].get(d[121]),d[15],d[97]!==void 0?d[93].set(d[121],d[97]):0,d[122]="imagine_media_id",d[98]=d[15].get(d[122]),d[15],c.i64.neq(d[98],void 0)?(c.i64.neq(d[98],void 0)?d[139]=c.i64.to_string(d[98]):d[139]=void 0,d[93].set(d[122],d[139])):0,d[123]="bot_action_int",d[99]=d[15].get(d[123]),d[15],c.i64.neq(d[99],void 0)?d[93].set(d[123],d[99]):0,d[124]="sentiment_int",d[100]=d[15].get(d[124]),d[15],c.i64.neq(d[100],void 0)?d[93].set(d[124],d[100]):0,d[125]="sentiment_intensity_int",d[101]=d[15].get(d[125]),d[15],c.i64.neq(d[101],void 0)?d[93].set(d[125],d[101]):0,d[126]="bot_invocation_message_id",d[102]=d[15].get(d[126]),d[15],d[102]!==void 0?d[93].set(d[126],d[102]):0,d[127]="bot_response_id",d[103]=d[15].get(d[127]),d[15],d[103]!==void 0?d[93].set(d[127],d[103]):0,d[128]="bot_invocation_message_otid",d[104]=d[15].get(d[128]),d[15],d[104]!==void 0?d[93].set(d[128],d[104]):0,d[129]="bot_invocation_logging_id",d[105]=d[15].get(d[129]),d[15],d[105]!==void 0?d[93].set(d[129],d[105]):0,d[130]="is_error",d[106]=d[15].get(d[130]),d[15],d[106]!==void 0?d[93].set(d[130],d[106]):0,d[131]="bot_subscription_id",d[107]=d[15].get(d[131]),d[15],c.i64.neq(d[107],void 0)?(c.i64.neq(d[107],void 0)?d[139]=c.i64.to_string(d[107]):d[139]=void 0,d[93].set(d[131],d[139])):0,d[132]="bot_subscription_product_type",d[108]=d[15].get(d[132]),d[15],d[108]!==void 0?d[93].set(d[132],d[108]):0,d[133]="bot_response_product_type",d[109]=d[15].get(d[133]),d[15],d[109]!==void 0?d[93].set(d[133],d[109]):0,d[134]="original_prompt_text",d[110]=d[15].get(d[134]),d[15],d[110]!==void 0?d[93].set(d[134],d[110]):0,d[135]="bot_response_additional_message_otids",d[111]=d[15].get(d[135]),d[15],d[111]?d[112]=!1:d[112]=!0,d[112]?0:(d[139]=c.i64.of_int32(d[111].length),c.i64.neq(d[139],c.i64.cast([0,0]))?d[93].set(d[135],d[111]):0),d[136]="imagine_media_info",d[113]=d[15].get(d[136]),d[15],d[113]?d[114]=!1:d[114]=!0,d[114]?c.resolve():c.sequence([function(a){return d[113]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[142]=c.createArray(),d[143]=c.i64.of_int32(d[113].length),c.i64.gt(d[143],c.i64.cast([0,0]))?c.loopAsync(d[143],function(a){return d[144]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[113],d[144]).then(function(a){return a=a,d[145]=a[0],d[146]=a[1],a})},function(a){return d[147]=new c.Map(),d[151]="imagine_media_id",d[148]=d[145].get(d[151]),d[145],c.i64.neq(d[148],void 0)?(c.i64.neq(d[148],void 0)?d[154]=c.i64.to_string(d[148]):d[154]=void 0,d[147].set(d[151],d[154])):0,d[152]="editable",d[149]=d[145].get(d[152]),d[145],d[149]!==void 0?d[147].set(d[152],d[149]):0,d[153]="animatable",d[150]=d[145].get(d[153]),d[145],d[150]!==void 0?d[147].set(d[153],d[150]):0,d[154]=(d[142].push(d[147]),d[142])}])}):c.resolve()},function(a){return d[140]=d[142]}])},function(a){return d[141]=c.i64.of_int32(d[140].length),c.i64.neq(d[141],c.i64.cast([0,0]))?d[93].set(d[136],d[140]):0}])},function(a){return d[137]="groups_ugc_metadata",d[115]=d[15].get(d[137]),d[15],d[115]?d[116]=!1:d[116]=!0,d[116]?0:(d[115]?d[139]=!1:d[139]=!0,d[139]?d[140]=void 0:(d[143]=new c.Map(),d[145]="share_to_comment_uri",d[144]=d[115].get(d[145]),d[115],d[144]!==void 0?d[143].set(d[145],d[144]):0,d[140]=d[143]),d[141]=d[140].keys(),d[142]=c.i64.of_int32(d[141].length),c.i64.neq(d[142],c.i64.cast([0,0]))?d[93].set(d[137],d[140]):0),d[138]="bot_proactive_message_type",d[117]=d[15].get(d[138]),d[15],c.i64.neq(d[117],void 0)?d[93].set(d[138],d[117]):0,d[90]=d[93]}])},function(a){return d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[66],d[90]):0}])},function(a){return d[67]="pobox",d[17]=d[1].get(d[67]),d[1],d[17]?d[18]=!1:d[18]=!0,d[18]?0:(d[17]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[96]="pobox_fbid",d[94]=d[17].get(d[96]),d[17],c.i64.neq(d[94],void 0)?(c.i64.neq(d[94],void 0)?d[98]=c.i64.to_string(d[94]):d[98]=void 0,d[93].set(d[96],d[98])):0,d[97]="pobox_id",d[95]=d[17].get(d[97]),d[17],d[95]!==void 0?d[93].set(d[97],d[95]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[67],d[90]):0),d[68]="video",d[19]=d[1].get(d[68]),d[1],d[19]?d[20]=!1:d[20]=!0,d[20]?0:(d[19]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="unified_upload_mos",d[94]=d[19].get(d[95]),d[19],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[68],d[90]):0),d[69]="text_translation",d[21]=d[1].get(d[69]),d[1],d[21]?d[22]=!1:d[22]=!0,d[22]?0:(d[21]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[97]="translated_text",d[94]=d[21].get(d[97]),d[21],d[94]!==void 0?d[93].set(d[97],d[94]):0,d[98]="text_dialect",d[95]=d[21].get(d[98]),d[21],d[95]!==void 0?d[93].set(d[98],d[95]):0,d[99]="translated_text_dialect",d[96]=d[21].get(d[99]),d[21],d[96]!==void 0?d[93].set(d[99],d[96]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[69],d[90]):0),d[70]="memories",d[23]=d[1].get(d[70]),d[1],d[23]?d[24]=!1:d[24]=!0,d[24]?c.resolve():c.sequence([function(a){return d[23]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[100]="original_message_id",d[94]=d[23].get(d[100]),d[23],d[94]!==void 0?d[93].set(d[100],d[94]):0,d[101]="original_message_creation_ts",d[95]=d[23].get(d[101]),d[23],c.i64.neq(d[95],void 0)?(c.i64.neq(d[95],void 0)?d[105]=c.i64.to_string(d[95]):d[105]=void 0,d[93].set(d[101],d[105])):0,d[102]="memory_server_id",d[96]=d[23].get(d[102]),d[23],c.i64.neq(d[96],void 0)?(c.i64.neq(d[96],void 0)?d[105]=c.i64.to_string(d[96]):d[105]=void 0,d[93].set(d[102],d[105])):0,d[103]="memory_template_type",d[97]=d[23].get(d[103]),d[23],d[97]!==void 0?d[93].set(d[103],d[97]):0,d[104]="memory_context_messages",d[98]=d[23].get(d[104]),d[23],d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[98]?d[105]=!1:d[105]=!0,d[105]?c.resolve(d[106]=void 0):c.sequence([function(a){return d[108]=c.createArray(),d[109]=c.i64.of_int32(d[98].length),c.i64.gt(d[109],c.i64.cast([0,0]))?c.loopAsync(d[109],function(a){return d[110]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[98],d[110]).then(function(a){return a=a,d[111]=a[0],d[112]=a[1],a})},function(a){return d[113]=new c.Map(),d[118]="sender_id",d[114]=d[111].get(d[118]),d[111],c.i64.neq(d[114],void 0)?(c.i64.neq(d[114],void 0)?d[121]=c.i64.to_string(d[114]):d[121]=void 0,d[113].set(d[118],d[121])):0,d[119]="message_text",d[115]=d[111].get(d[119]),d[111],d[115]!==void 0?d[113].set(d[119],d[115]):0,d[120]="reactions",d[116]=d[111].get(d[120]),d[111],d[116]?d[117]=!1:d[117]=!0,d[117]?0:(d[121]=c.i64.of_int32(d[116].length),c.i64.neq(d[121],c.i64.cast([0,0]))?d[113].set(d[120],d[116]):0),d[121]=(d[108].push(d[113]),d[108])}])}):c.resolve()},function(a){return d[106]=d[108]}])},function(a){return d[107]=c.i64.of_int32(d[106].length),c.i64.neq(d[107],c.i64.cast([0,0]))?d[93].set(d[104],d[106]):0}])},function(a){return d[90]=d[93]}])},function(a){return d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[70],d[90]):0}])},function(a){return d[71]="command",d[25]=d[1].get(d[71]),d[1],d[25]?d[26]=!1:d[26]=!0,d[26]?0:(d[25]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="command_type",d[94]=d[25].get(d[95]),d[25],c.i64.neq(d[94],void 0)?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[71],d[90]):0),d[72]="admin_message",d[27]=d[1].get(d[72]),d[1],d[27]?d[28]=!1:d[28]=!0,d[28]?0:(d[27]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[104]="ad_client_token",d[94]=d[27].get(d[104]),d[27],d[94]!==void 0?d[93].set(d[104],d[94]):0,d[105]="ad_preference_url",d[95]=d[27].get(d[105]),d[27],d[95]!==void 0?d[93].set(d[105],d[95]):0,d[106]="ad_help_url",d[96]=d[27].get(d[106]),d[27],d[96]!==void 0?d[93].set(d[106],d[96]):0,d[107]="show_ad_choice_icon",d[97]=d[27].get(d[107]),d[27],d[97]!==void 0?d[93].set(d[107],d[97]):0,d[108]="title",d[98]=d[27].get(d[108]),d[27],d[98]!==void 0?d[93].set(d[108],d[98]):0,d[109]="action_url",d[99]=d[27].get(d[109]),d[27],d[99]!==void 0?d[93].set(d[109],d[99]):0,d[110]="admin_message_nickname_participant_id",d[100]=d[27].get(d[110]),d[27],c.i64.neq(d[100],void 0)?(c.i64.neq(d[100],void 0)?d[114]=c.i64.to_string(d[100]):d[114]=void 0,d[93].set(d[110],d[114])):0,d[111]="target_id",d[101]=d[27].get(d[111]),d[27],c.i64.neq(d[101],void 0)?(c.i64.neq(d[101],void 0)?d[114]=c.i64.to_string(d[101]):d[114]=void 0,d[93].set(d[111],d[114])):0,d[112]="target_title",d[102]=d[27].get(d[112]),d[27],d[102]!==void 0?d[93].set(d[112],d[102]):0,d[113]="identifier_name",d[103]=d[27].get(d[113]),d[27],d[103]!==void 0?d[93].set(d[113],d[103]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[72],d[90]):0),d[73]="misinfo_metadata",d[29]=d[1].get(d[73]),d[1],d[29]?d[30]=!1:d[30]=!0,d[30]?0:(d[29]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[96]="has_misinfo",d[94]=d[29].get(d[96]),d[29],d[94]!==void 0?d[93].set(d[96],d[94]):0,d[97]="misinfo_source",d[95]=d[29].get(d[97]),d[29],d[95]!==void 0?d[93].set(d[97],d[95]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[73],d[90]):0),d[74]="forwarded_message",d[31]=d[1].get(d[74]),d[1],d[31]?d[32]=!1:d[32]=!0,d[32]?0:(d[31]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[96]="forwarded_from_thread_name",d[94]=d[31].get(d[96]),d[31],d[94]!==void 0?d[93].set(d[96],d[94]):0,d[97]="forwarded_from_thread_url",d[95]=d[31].get(d[97]),d[31],d[95]!==void 0?d[93].set(d[97],d[95]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[74],d[90]):0),d[75]="ai_metadata",d[33]=d[1].get(d[75]),d[1],d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[99]="is_ai_generated",d[94]=d[33].get(d[99]),d[33],d[94]!==void 0?d[93].set(d[99],d[94]):0,d[100]="gen_ai_integrity_ent_id",d[95]=d[33].get(d[100]),d[33],c.i64.neq(d[95],void 0)?(c.i64.neq(d[95],void 0)?d[104]=c.i64.to_string(d[95]):d[104]=void 0,d[93].set(d[100],d[104])):0,d[101]="ai_product",d[96]=d[33].get(d[101]),d[33],d[96]!==void 0?d[93].set(d[101],d[96]):0,d[102]="original_prompt_text",d[97]=d[33].get(d[102]),d[33],d[97]!==void 0?d[93].set(d[102],d[97]):0,d[103]="imagine_media_id",d[98]=d[33].get(d[103]),d[33],c.i64.neq(d[98],void 0)?(c.i64.neq(d[98],void 0)?d[104]=c.i64.to_string(d[98]):d[104]=void 0,d[93].set(d[103],d[104])):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[75],d[90]):0),d[76]="encrypted_message",d[35]=d[1].get(d[76]),d[1],d[35]?d[36]=!1:d[36]=!0,d[36]?c.resolve():c.sequence([function(a){return d[35]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[101]="thread_id",d[94]=d[35].get(d[101]),d[35],d[94]!==void 0?d[93].set(d[101],d[94]):0,d[102]="offline_threading_id",d[95]=d[35].get(d[102]),d[35],d[95]!==void 0?d[93].set(d[102],d[95]):0,d[103]="toplevel_payload",d[96]=d[35].get(d[103]),d[35],d[96]?d[97]=!1:d[97]=!0,d[97]?0:(d[106]=new c.Map(),d[112]="encrypted_payload",d[107]=d[96].get(d[112]),d[96],d[107]!==void 0?d[106].set(d[112],d[107]):0,d[113]="payloadTimestampMs",d[108]=d[96].get(d[113]),d[96],c.i64.neq(d[108],void 0)?d[106].set(d[113],c.i64.to_string(d[108])):0,d[114]="encryption_version",d[109]=d[96].get(d[114]),d[96],c.i64.neq(d[109],void 0)?d[106].set(d[114],d[109]):0,d[115]="epoch_id",d[110]=d[96].get(d[115]),d[96],c.i64.neq(d[110],void 0)?d[106].set(d[115],c.i64.to_string(d[110])):0,d[116]="epoch_anon_id",d[111]=d[96].get(d[116]),d[96],d[111]!==void 0?d[106].set(d[116],d[111]):0,d[93].set(d[103],d[106])),d[104]="supplemental_payloads",d[98]=d[35].get(d[104]),d[35],d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[106]=c.createArray(),d[107]=c.i64.of_int32(d[98].length),c.i64.gt(d[107],c.i64.cast([0,0]))?c.loopAsync(d[107],function(a){return d[108]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[98],d[108]).then(function(a){return a=a,d[109]=a[0],d[110]=a[1],a})},function(a){return d[111]=new c.Map(),d[116]="encrypted_supplemental_key",d[112]=d[109].get(d[116]),d[109],d[112]!==void 0?d[111].set(d[116],d[112]):0,d[117]="supplemental_key_ciphertext",d[113]=d[109].get(d[117]),d[109],d[113]!==void 0?d[111].set(d[117],d[113]):0,d[118]="encrypted_supplemental_payload",d[114]=d[109].get(d[118]),d[109],d[114]?d[115]=!1:d[115]=!0,d[115]?0:(d[119]=new c.Map(),d[125]="encrypted_payload",d[120]=d[114].get(d[125]),d[114],d[120]!==void 0?d[119].set(d[125],d[120]):0,d[126]="payloadTimestampMs",d[121]=d[114].get(d[126]),d[114],c.i64.neq(d[121],void 0)?d[119].set(d[126],c.i64.to_string(d[121])):0,d[127]="encryption_version",d[122]=d[114].get(d[127]),d[114],c.i64.neq(d[122],void 0)?d[119].set(d[127],d[122]):0,d[128]="epoch_id",d[123]=d[114].get(d[128]),d[114],c.i64.neq(d[123],void 0)?d[119].set(d[128],c.i64.to_string(d[123])):0,d[129]="epoch_anon_id",d[124]=d[114].get(d[129]),d[114],d[124]!==void 0?d[119].set(d[129],d[124]):0,d[111].set(d[118],d[119])),d[119]=(d[106].push(d[111]),d[106])}])}):c.resolve()},function(a){return d[93].set(d[104],d[106])}])},function(a){return d[105]="is_open_eb",d[100]=d[35].get(d[105]),d[35],d[100]!==void 0?d[93].set(d[105],d[100]):0,d[90]=d[93]}])},function(a){return d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[76],d[90]):0}])},function(a){return d[77]="rich_text",d[37]=d[1].get(d[77]),d[1],d[37]?d[38]=!1:d[38]=!0,d[38]?0:(d[37]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="rich_text_format_type",d[94]=d[37].get(d[95]),d[37],c.i64.neq(d[94],void 0)?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[77],d[90]):0),d[78]="content_logging_metadata",d[39]=d[1].get(d[78]),d[1],d[39]?d[40]=!1:d[40]=!0,d[40]?c.resolve():c.sequence([function(a){return d[39]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[98]="containing_post",d[94]=d[39].get(d[98]),d[39],d[94]?d[95]=!1:d[95]=!0,d[95]?c.resolve():c.sequence([function(a){return d[94]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[104]=new c.Map(),d[112]="key_type",d[105]=d[94].get(d[112]),d[94],d[105]!==void 0?d[104].set(d[112],d[105]):0,d[113]="fb_post_type",d[106]=d[94].get(d[113]),d[94],d[106]?d[107]=!1:d[107]=!0,d[107]?0:(d[116]=c.i64.of_int32(d[106].length),c.i64.neq(d[116],c.i64.cast([0,0]))?d[104].set(d[113],d[106]):0),d[114]="photos",d[108]=d[94].get(d[114]),d[94],d[108]?d[109]=!1:d[109]=!0,d[109]?c.resolve():c.sequence([function(a){return d[108]?d[116]=!1:d[116]=!0,d[116]?c.resolve(d[117]=void 0):c.sequence([function(a){return d[119]=c.createArray(),d[120]=c.i64.of_int32(d[108].length),c.i64.gt(d[120],c.i64.cast([0,0]))?c.loopAsync(d[120],function(a){return d[121]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[108],d[121]).then(function(a){return a=a,d[122]=a[0],d[123]=a[1],a})},function(a){return d[124]=new c.Map(),d[126]="key_type",d[125]=d[122].get(d[126]),d[122],d[125]!==void 0?d[124].set(d[126],d[125]):0,d[127]=(d[119].push(d[124]),d[119])}])}):c.resolve()},function(a){return d[117]=d[119]}])},function(a){return d[118]=c.i64.of_int32(d[117].length),c.i64.neq(d[118],c.i64.cast([0,0]))?d[104].set(d[114],d[117]):0}])},function(a){return d[115]="videos",d[110]=d[94].get(d[115]),d[94],d[110]?d[111]=!1:d[111]=!0,d[111]?c.resolve():c.sequence([function(a){return d[110]?d[116]=!1:d[116]=!0,d[116]?c.resolve(d[117]=void 0):c.sequence([function(a){return d[119]=c.createArray(),d[120]=c.i64.of_int32(d[110].length),c.i64.gt(d[120],c.i64.cast([0,0]))?c.loopAsync(d[120],function(a){return d[121]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[110],d[121]).then(function(a){return a=a,d[122]=a[0],d[123]=a[1],a})},function(a){return d[124]=new c.Map(),d[126]="key_type",d[125]=d[122].get(d[126]),d[122],d[125]!==void 0?d[124].set(d[126],d[125]):0,d[127]=(d[119].push(d[124]),d[119])}])}):c.resolve()},function(a){return d[117]=d[119]}])},function(a){return d[118]=c.i64.of_int32(d[117].length),c.i64.neq(d[118],c.i64.cast([0,0]))?d[104].set(d[115],d[117]):0}])},function(a){return d[101]=d[104]}])},function(a){return d[102]=d[101].keys(),d[103]=c.i64.of_int32(d[102].length),c.i64.neq(d[103],c.i64.cast([0,0]))?d[93].set(d[98],d[101]):0}])},function(a){return d[99]="metadata",d[96]=d[39].get(d[99]),d[39],d[96]?d[97]=!1:d[97]=!0,d[97]?0:(d[96]?d[100]=!1:d[100]=!0,d[100]?d[101]=void 0:(d[104]=d[96].get("__typename"),d[96],d[104]==="XMSGGroupsContentLoggingMetadata"?(d[106]=new c.Map(),d[108]="num_members",d[107]=d[96].get(d[108]),d[96],c.i64.neq(d[107],void 0)?d[106].set(d[108],d[107]):0,d[105]=d[106]):(d[104]==="XMSGStoriesContentLoggingMetadata"?(d[107]=new c.Map(),d[112]="author",d[108]=d[96].get(d[112]),d[96],d[108]?d[109]=!1:d[109]=!0,d[109]?0:(d[108]?d[115]=!1:d[115]=!0,d[115]?d[116]=void 0:(d[119]=new c.Map(),d[122]="profile",d[120]=d[108].get(d[122]),d[108],d[120]?d[121]=!1:d[121]=!0,d[121]?0:(d[120]?d[123]=!1:d[123]=!0,d[123]?d[124]=void 0:(d[127]=new c.Map(),d[129]="id",d[128]=d[120].get(d[129]),d[120],d[128]!==void 0?d[127].set(d[129],d[128]):0,d[124]=d[127]),d[125]=d[124].keys(),d[126]=c.i64.of_int32(d[125].length),c.i64.neq(d[126],c.i64.cast([0,0]))?d[119].set(d[122],d[124]):0),d[116]=d[119]),d[117]=d[116].keys(),d[118]=c.i64.of_int32(d[117].length),c.i64.neq(d[118],c.i64.cast([0,0]))?d[107].set(d[112],d[116]):0),d[113]="post_source",d[110]=d[96].get(d[113]),d[96],d[110]!==void 0?d[107].set(d[113],d[110]):0,d[114]="story_type",d[111]=d[96].get(d[114]),d[96],d[111]!==void 0?d[107].set(d[114],d[111]):0,d[106]=d[107]):(function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGContentLoggingMetadataUnion: ","",d[104]].join("")),d[106]=d[96]),d[105]=d[106]),d[105].set("__typename",d[104]),d[101]=d[105]),d[102]=d[101].keys(),d[103]=c.i64.of_int32(d[102].length),c.i64.neq(d[103],c.i64.cast([0,0]))?d[93].set(d[99],d[101]):0),d[90]=d[93]}])},function(a){return d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[78],d[90]):0}])},function(a){return d[79]="suggested_moderation_actions",d[41]=d[1].get(d[79]),d[1],d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[97]="suggested_moderation_actions_list",d[94]=d[41].get(d[97]),d[41],d[94]?d[95]=!1:d[95]=!0,d[95]?c.resolve():c.sequence([function(a){return d[94]?d[99]=!1:d[99]=!0,d[99]?c.resolve(d[100]=void 0):c.sequence([function(a){return d[103]=new c.Map(),d[106]="suggested_moderation_actions",d[104]=d[94].get(d[106]),d[94],d[104]?d[105]=!1:d[105]=!0,d[105]?c.resolve():c.sequence([function(a){return d[104]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[104].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[104],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=new c.Map(),d[118]="primary_action",d[116]=d[113].get(d[118]),d[113],d[116]!==void 0?d[115].set(d[118],d[116]):0,d[119]="chained_actions",d[117]=d[113].get(d[119]),d[113],d[117]!==void 0?d[115].set(d[119],d[117]):0,d[120]=(d[110].push(d[115]),d[110])}])}):c.resolve()},function(a){return d[108]=d[110]}])},function(a){return d[109]=c.i64.of_int32(d[108].length),c.i64.neq(d[109],c.i64.cast([0,0]))?d[103].set(d[106],d[108]):0}])},function(a){return d[100]=d[103]}])},function(a){return d[101]=d[100].keys(),d[102]=c.i64.of_int32(d[101].length),c.i64.neq(d[102],c.i64.cast([0,0]))?d[93].set(d[97],d[100]):0}])},function(a){return d[98]="suggested_moderation_actions_json",d[96]=d[41].get(d[98]),d[41],d[96]!==void 0?d[93].set(d[98],d[96]):0,d[90]=d[93]}])},function(a){return d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[79],d[90]):0}])},function(a){return d[80]="highlights_tab_custom_card_metadata",d[43]=d[1].get(d[80]),d[1],d[43]?d[44]=!1:d[44]=!0,d[44]?0:(d[43]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[96]="is_custom_card",d[94]=d[43].get(d[96]),d[43],d[94]!==void 0?d[93].set(d[96],d[94]):0,d[97]="moment",d[95]=d[43].get(d[97]),d[43],d[95]!==void 0?d[93].set(d[97],d[95]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[80],d[90]):0),d[81]="highlights_tab_metadata",d[45]=d[1].get(d[81]),d[1],d[45]?d[46]=!1:d[46]=!0,d[46]?0:(d[45]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[99]="reply_source_type",d[94]=d[45].get(d[99]),d[45],d[94]!==void 0?d[93].set(d[99],d[94]):0,d[100]="reply_metadata",d[95]=d[45].get(d[100]),d[45],d[95]?d[96]=!1:d[96]=!0,d[96]?0:(d[95]?d[102]=!1:d[102]=!0,d[102]?d[103]=void 0:(d[106]=d[95].get("__typename"),d[95],d[106]==="XMSGHighlightsTabBirthdayReplyMetadata"?(d[108]=new c.Map(),d[110]="birthday_age",d[109]=d[95].get(d[110]),d[95],c.i64.neq(d[109],void 0)?d[108].set(d[110],d[109]):0,d[107]=d[108]):(function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGHighlightsTabReplyMetadataUnion: ","",d[106]].join("")),d[107]=d[95]),d[107].set("__typename",d[106]),d[103]=d[107]),d[104]=d[103].keys(),d[105]=c.i64.of_int32(d[104].length),c.i64.neq(d[105],c.i64.cast([0,0]))?d[93].set(d[100],d[103]):0),d[101]="moment_card_metadata",d[97]=d[45].get(d[101]),d[45],d[97]?d[98]=!1:d[98]=!0,d[98]?0:(d[97]?d[102]=!1:d[102]=!0,d[102]?d[103]=void 0:(d[106]=new c.Map(),d[108]="moment_card_type",d[107]=d[97].get(d[108]),d[97],d[107]!==void 0?d[106].set(d[108],d[107]):0,d[103]=d[106]),d[104]=d[103].keys(),d[105]=c.i64.of_int32(d[104].length),c.i64.neq(d[105],c.i64.cast([0,0]))?d[93].set(d[101],d[103]):0),d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[81],d[90]):0),d[82]="business_thread_response_feedback",d[47]=d[1].get(d[82]),d[1],d[47]?d[48]=!1:d[48]=!0,d[48]?0:(d[47]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="is_feedback_button_enabled_for_message",d[94]=d[47].get(d[95]),d[47],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[82],d[90]):0),d[83]="live_shopping_metadata",d[49]=d[1].get(d[83]),d[1],d[49]?d[50]=!1:d[50]=!0,d[50]?0:(d[49]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="referral_post_id",d[94]=d[49].get(d[95]),d[49],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[83],d[90]):0),d[84]="reply_metadata",d[51]=d[1].get(d[84]),d[1],d[51]?d[52]=!1:d[52]=!0,d[52]?0:(d[51]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="is_markdown",d[94]=d[51].get(d[95]),d[51],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[84],d[90]):0),d[85]="mustache_cta",d[53]=d[1].get(d[85]),d[1],d[53]?d[54]=!1:d[54]=!0,d[54]?0:(d[53]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[97]="cta_type",d[94]=d[53].get(d[97]),d[53],d[94]!==void 0?d[93].set(d[97],d[94]):0,d[98]="title",d[95]=d[53].get(d[98]),d[53],d[95]!==void 0?d[93].set(d[98],d[95]):0,d[99]="action_url",d[96]=d[53].get(d[99]),d[53],d[96]!==void 0?d[93].set(d[99],d[96]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[85],d[90]):0),d[86]="inline_entities",d[55]=d[1].get(d[86]),d[1],d[55]?d[56]=!1:d[56]=!0,d[56]?c.resolve():c.sequence([function(a){return d[55]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[98]="entities",d[94]=d[55].get(d[98]),d[55],d[94]?d[95]=!1:d[95]=!0,d[95]?c.resolve():c.sequence([function(a){return d[101]=c.createArray(),d[102]=c.i64.of_int32(d[94].length),c.i64.gt(d[102],c.i64.cast([0,0]))?c.loopAsync(d[102],function(a){return d[103]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[94],d[103]).then(function(a){return a=a,d[104]=a[0],d[105]=a[1],a})},function(a){return d[106]=new c.Map(),d[115]="offset",d[107]=d[104].get(d[115]),d[104],c.i64.neq(d[107],void 0)?d[106].set(d[115],d[107]):0,d[116]="length",d[108]=d[104].get(d[116]),d[104],c.i64.neq(d[108],void 0)?d[106].set(d[116],d[108]):0,d[117]="type",d[109]=d[104].get(d[117]),d[104],d[109]!==void 0?d[106].set(d[117],d[109]):0,d[118]="metadata",d[110]=d[104].get(d[118]),d[104],d[110]?d[111]=!1:d[111]=!0,d[111]?0:(d[110]?d[122]=!1:d[122]=!0,d[122]?d[123]=void 0:(d[126]=new c.Map(),d[129]="search_query",d[127]=d[110].get(d[129]),d[110],d[127]!==void 0?d[126].set(d[129],d[127]):0,d[130]="reminder_topic",d[128]=d[110].get(d[130]),d[110],d[128]!==void 0?d[126].set(d[130],d[128]):0,d[123]=d[126]),d[124]=d[123].keys(),d[125]=c.i64.of_int32(d[124].length),c.i64.neq(d[125],c.i64.cast([0,0]))?d[106].set(d[118],d[123]):0),d[119]="action_label",d[112]=d[104].get(d[119]),d[104],d[112]!==void 0?d[106].set(d[119],d[112]):0,d[120]="context_token",d[113]=d[104].get(d[120]),d[104],d[113]!==void 0?d[106].set(d[120],d[113]):0,d[121]="context_token_type",d[114]=d[104].get(d[121]),d[104],c.i64.neq(d[114],void 0)?d[106].set(d[121],d[114]):0,d[122]=(d[101].push(d[106]),d[101])}])}):c.resolve()},function(a){return d[93].set(d[98],d[101])}])},function(a){return d[99]="inference_timestamp_ms",d[96]=d[55].get(d[99]),d[55],c.i64.neq(d[96],void 0)?(c.i64.neq(d[96],void 0)?d[101]=c.i64.to_string(d[96]):d[101]=void 0,d[93].set(d[99],d[101])):0,d[100]="inference_model_version",d[97]=d[55].get(d[100]),d[55],c.i64.neq(d[97],void 0)?d[93].set(d[100],d[97]):0,d[90]=d[93]}])},function(a){return d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[86],d[90]):0}])},function(a){return d[87]="note_metadata",d[57]=d[1].get(d[87]),d[1],d[57]?d[58]=!1:d[58]=!0,d[58]?c.resolve():c.sequence([function(a){return d[57]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=void 0):c.sequence([function(a){return d[93]=new c.Map(),d[98]="message_type",d[94]=d[57].get(d[98]),d[57],d[94]!==void 0?d[93].set(d[98],d[94]):0,d[99]="mentions",d[95]=d[57].get(d[99]),d[57],d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve():c.sequence([function(a){return d[101]=c.createArray(),d[102]=c.i64.of_int32(d[95].length),c.i64.gt(d[102],c.i64.cast([0,0]))?c.loopAsync(d[102],function(a){return d[103]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[95],d[103]).then(function(a){return a=a,d[104]=a[0],d[105]=a[1],a})},function(a){return d[106]=new c.Map(),d[109]="offset",d[107]=d[104].get(d[109]),d[104],c.i64.neq(d[107],void 0)?d[106].set(d[109],d[107]):0,d[110]="length",d[108]=d[104].get(d[110]),d[104],c.i64.neq(d[108],void 0)?d[106].set(d[110],d[108]):0,d[111]=(d[101].push(d[106]),d[101])}])}):c.resolve()},function(a){return d[93].set(d[99],d[101])}])},function(a){return d[100]="expiration_timestamp_ms",d[97]=d[57].get(d[100]),d[57],c.i64.neq(d[97],void 0)?d[93].set(d[100],c.i64.to_string(d[97])):0,d[90]=d[93]}])},function(a){return d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[87],d[90]):0}])},function(a){return d[88]="ai_bot_summon_metadata",d[59]=d[1].get(d[88]),d[1],d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[89]=!1:d[89]=!0,d[89]?d[90]=void 0:(d[93]=new c.Map(),d[95]="is_e2ee_summon_message",d[94]=d[59].get(d[95]),d[59],d[94]!==void 0?d[93].set(d[95],d[94]):0,d[90]=d[93]),d[91]=d[90].keys(),d[92]=c.i64.of_int32(d[91].length),c.i64.neq(d[92],c.i64.cast([0,0]))?d[6].set(d[88],d[90]):0),d[61]=c.toJSON(d[6]),d[5]=d[61]}])},function(b){return c.forEach(c.filter(c.db.table(12).fetch([[[a[0],a[1],a[2]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[1])&&b.messageId===a[2]}),function(b){var c=b.update;b.item;return c({adminMsgCtaId:d[0],adminMsgCtaTitle:a[3],adminMsgCtaType:a[4],metadataDataclass:d[5]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxApplyAdminMessageCTAStoredProcedure";e.exports=a}),null);